from metro_mapper.elements import create_map, lines

fg=10
hg=fg/2**0.5
qg=fg*(2**0.5-1)

mapdata={
    'style':{
        'grid':{
            'major':100,
            'minor':10,
            'color':'#444444'
        },
        'background': {
            'width':1000,
            'height':1000,
            'color':'#000000',
        },
        'fg':fg,
        'center':(700,300),
    },
    'lines':{
        'Bart':{
            'color':'#BBBB77',
            'width':4,
            'points':[
                (1000,-150,10),
                (150+2*hg,-150,10),
                (-120,120+2*hg,10),
                (-120,400,10)
            ],
            'stops':[
                (80+hg,-80+hg),
                (40+hg,-40+hg),
                (0+hg,0+hg),
                (-60+hg,60+hg),
                (-120,200)
            ]
        },
        'M Line':{
            'color':'#00FF00',
            'width':4,
            'points':[
                (100,100,10),
                (150,50,10),
                (150,-50,10),
                (100,-100,10),
                (-200,200,10)
            ],
            'stops':[
                (100,100),
                (140,60),
                (150,0),
                (140,-60),
                (80,-80),
                (40,-40),
                (0,0),
                (-60,60),
                (-110,110),
                (-180,180)
            ]
        },
        'F Line':{
            'color':'#FFFF00',
            'width':4,
            'points':[
                (-60,-240,10),
                (-80,-240,10),
                (-90,-230,10),
                (-200,-230,10),
                (-200,160,10),
                (-160,200,10),
                (0+2*hg,200,10),
                (100+hg,100+hg,10),
                (150+fg,50+qg,20),
                (150+fg,-50-qg,20),
                (-30+2*hg,-230,10),
                (-70,-230,5),
                (-70,-240,5),
                (-40+2*hg,-240,10),
                (2*hg,-200,10),
            ],
            'stops':[
                (-100,-230),
                (-170,-230),
                (-200,-200),
                (-200,-160),
                (-200,-80),
                (-200,-10),
                (-200,50),
                (-200,130),
                (-180+hg,180+hg),
                (-120-fg,200),
                (100+hg,100+hg),
                (140+hg,60+hg),
                (150+fg,0),
                (140+hg,-60-hg),
                (100+hg,-100-hg),
                (70+hg,-130-hg),
                (40+hg,-160-hg),
                (10+hg,-190-hg),
                (-60,-240),
                (-50,-230),
                (-20+hg,-220-hg),
            ]
        },
        'J Line':{
            'color':'#FF7700',
            'width':4,
            'points':[
                (-1000,170,10),
                (-190-2*hg,170,10),
                (-180,180+2*hg,10),
                (-180,400,10)
            ],
            'stops':[
                (-180-hg,180+hg),
            ]
        },
        'C Line':{
            'color':'#FF0000',
            'width':4,
            'points':[
                (-20,-220,10),
                # (-30,-210,10),
                # (-30,-170,10),
                # (-20, -160,10),
                (-20,-20,10),
                (130,130,10),
                (150,130,10),
                (150,400,10)
            ],
            'stops':[
                (-20,-220),
                (-20,-160),
                (-20,-100),
                (0-hg,0-hg),
                (30,30),
                (70,70),
                (100+2*hg,100+2*hg),
                (150,150)
            ]
        },
        'G Line':{
            'color':'#7700FF',
            'width':4,
            'points':[
                (1000,150,10),
                (150-2*hg,150,10),
                (-10-2*hg,-10,10),
                (-480,-10,40),
                (-480,1000,10)
            ],
            'stops':[
                (150+fg,150),
                (100-hg,100+hg),
                (0-2*hg,0),
                (30-hg,30+hg),
                (-120,-10),
                (-200+fg,-10),
                (-280,-10),
                (-360,-10),
                (-440,-10),
            ]
        },
        'P Line':{
            'color':'#00FFFF',
            'width':4,
            'points':[
                (90-hg,-30-hg,10),
                (-80,-200,10),
                (-200,-200,10)
            ],
            'stops':[
                (90-hg,-30-hg),
                (40,-100),
            ]
        },
        'CalTrain':{
            'color':'#0077BB',
            'width':2,
            'points':[
                (100,1000,20),
                (100,220,20),
                (40-hg,160-hg,20),
                (130-hg,70-hg,20),
                (60,0,20),
                (160,-100,20),
                (1000,-100,20)
            ],
            'stops':[
                (90,-30),
                (100-hg,100-hg)
            ]
        },
        'NewTrain':{
            'color':'#0077BB',
            'width':2,
            'points':[
                (90,-40,20),
                (0,50,20),
                (-100,50,20)
            ],
            'stops':[
                (30,30-fg),
                (-60,60-fg)
            ]
        },
    },
}

drawing=create_map(mapdata, 'outputs/SanFrancisco_map.svg', grid=True)
linegroup=drawing.g(id='lines')
stopgroup=drawing.g(id='stops')
lines(mapdata, linegroup, stopgroup)
drawing.add(linegroup)
drawing.add(stopgroup)
drawing.save()